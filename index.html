<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Calculadora ROI Travian - 15C Capital</title>

  <!-- Seguridad (mejor en estático). Requiere JS/CSS externos (ya lo estás usando aquí). -->
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self';
                 script-src 'self';
                 style-src 'self';
                 img-src 'self' data:;
                 object-src 'none';
                 base-uri 'self';
                 frame-ancestors 'none';
                 form-action 'self';
                 upgrade-insecure-requests">

  <meta name="referrer" content="no-referrer">
  <meta http-equiv="X-Content-Type-Options" content="nosniff">

  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <div class="container">
    <div class="header-container">
      <button id="themeToggle" class="theme-toggle" type="button">
        ☀️ Modo Claro
      </button>

      <h1>Calculadora de ROI de Producción</h1>
      <div class="subtitle">Travian 15C Capital - Optimización Matemática (Bono Oro 25% incluido)</div>
    </div>

    <div class="controls">
      <div class="control-group">
        <label for="serverSpeed">Servidor</label>
        <select id="serverSpeed">
          <option value="1">Velocidad x1</option>
          <option value="2" selected>Velocidad x2</option>
          <option value="3">Velocidad x3</option>
          <option value="5">Velocidad x5</option>
          <option value="10">Velocidad x10</option>
        </select>
      </div>

      <div class="control-group">
        <label for="isEgyptian">Raza Egipcia</label>
        <select id="isEgyptian">
          <option value="no" selected>No (Razas Clásicas)</option>
          <option value="yes">Sí (Obras Hidráulicas)</option>
        </select>
      </div>

      <div class="control-group">
        <label for="oasis1">Oasis 1 (Héroe Lvl 10)</label>
        <select id="oasis1">
          <option value="0.50">Oasis 50%</option>
          <option value="0.25">Oasis 25%</option>
          <option value="0">Ninguno (0%)</option>
        </select>
      </div>

      <div class="control-group">
        <label for="oasis2">Oasis 2 (Héroe Lvl 15)</label>
        <select id="oasis2">
          <option value="0.50">Oasis 50%</option>
          <option value="0.25" selected>Oasis 25%</option>
          <option value="0">Ninguno (0%)</option>
        </select>
      </div>

      <div class="control-group">
        <label for="oasis3">Oasis 3 (Héroe Lvl 20)</label>
        <select id="oasis3">
          <option value="0.50">Oasis 50%</option>
          <option value="0.25">Oasis 25%</option>
          <option value="0" selected>Ninguno (0%)</option>
        </select>
      </div>

      <button id="calcBtn" class="calc-btn" type="button">Calcular Ruta Óptima</button>
    </div>

    <div class="table-container">
      <table id="resultTable">
        <thead>
          <tr>
            <th>[M, P, H, OH]</th>
            <th>[Fields]</th>
            <th>Producción / h</th>
            <th>Acción</th>
            <th>Costo Total</th>
            <th>Días ROI</th>
            <th title="Almacén Normal">A</th>
            <th title="Granero Normal">G</th>
            <th title="Gran Almacén (x3)">G.A</th>
            <th title="Gran Granero (x3)">G.G</th>
          </tr>
        </thead>
        <tbody id="tableBody"></tbody>
      </table>
    </div>
  </div>

  <script src="./app.js" defer></script>
</body>
</html>